{"code":"(this[\"webpackJsonpmy-app\"]=this[\"webpackJsonpmy-app\"]||[]).push([[70],{238:function(e,a,t){\"use strict\";t.r(a);var s=t(2),i=t(70),c=t(8),r=t(31),l=t(35),n=t(18),o=t.n(n),d=t(32),m=t(23),b=t(1);var j=()=>{let e=Object(l.b)();const a=Object(c.f)();let t=Object(l.c)(e=>e.user.status),i=Object(l.c)(e=>e.user.user);const[n,j]=Object(s.useState)(\"\"),[u,h]=Object(s.useState)(\"\"),[x,O]=Object(s.useState)(!1);return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(\"section\",{id:\"login_area\",className:\"ptb-100\",children:Object(b.jsx)(\"div\",{className:\"container\",children:Object(b.jsx)(\"div\",{className:\"row\",children:Object(b.jsx)(\"div\",{className:\"col-lg-6 offset-lg-3 col-md-12 col-sm-12 col-12\",children:Object(b.jsxs)(\"div\",{className:\"account_form\",children:[Object(b.jsx)(\"h3\",{children:\"Giri\\u015f Yap\"}),Object(b.jsxs)(\"form\",{onSubmit:s=>{s.preventDefault(),(async()=>{if(t)o.a.fire({icon:\"question\",title:\"Say\\u0131n \"+i.name,html:\"Zaten giri\\u015f yapm\\u0131\\u015fs\\u0131n\\u0131z <br /><b>Hesab\\u0131m</b> sayfas\\u0131na gidebilir veya <b>Al\\u0131\\u015fveri\\u015f</b> yapabilirsiniz\"}).then(e=>{e.isConfirmed&&a.push(\"/my-account\")});else{if(!n||!u)return void o.a.fire({icon:\"warning\",title:\"Eksik Bilgi\",text:\"L\\xfctfen email ve \\u015fifre girin\"});O(!0);try{const t=await d.a.signInWithEmailAndPassword(n,u),i=t.user.uid;let c=\"M\\xfc\\u015fteri\";try{const e=d.b.collection(\"users\").doc(i),a=await e.get();c=a.exists?a.data().name||t.user.displayName||\"M\\xfc\\u015fteri\":t.user.displayName||\"M\\xfc\\u015fteri\"}catch(s){console.warn(\"Firestore read failed:\",s),c=t.user.displayName||\"M\\xfc\\u015fteri\"}e(Object(m.c)({user:c,email:n,pass:u})),O(!1),o.a.fire({icon:\"success\",title:\"Giri\\u015f Ba\\u015far\\u0131l\\u0131!\",text:\"Ho\\u015f geldiniz \"+c,timer:1500,showConfirmButton:!1}),setTimeout(()=>{a.push(\"/\")},100)}catch(c){O(!1),console.error(\"Login error:\",c);let e=\"Bir hata olu\\u015ftu. L\\xfctfen tekrar deneyin.\";\"auth/user-not-found\"===c.code?e=\"Bu email adresi ile kay\\u0131tl\\u0131 kullan\\u0131c\\u0131 bulunamad\\u0131.\":\"auth/wrong-password\"===c.code?e=\"\\u015eifre yanl\\u0131\\u015f.\":\"auth/invalid-email\"===c.code?e=\"Ge\\xe7ersiz email adresi.\":c.message&&(e=c.message),o.a.fire({icon:\"error\",title:\"Giri\\u015f Ba\\u015far\\u0131s\\u0131z\",text:e})}}})()},children:[Object(b.jsxs)(\"div\",{className:\"default-form-box\",children:[Object(b.jsxs)(\"label\",{children:[\"Email\",Object(b.jsx)(\"span\",{className:\"text-danger\",children:\"*\"})]}),Object(b.jsx)(\"input\",{type:\"email\",className:\"form-control\",required:!0,value:n,onChange:e=>j(e.currentTarget.value)})]}),Object(b.jsxs)(\"div\",{className:\"default-form-box\",children:[Object(b.jsxs)(\"label\",{children:[\"\\u015eifre\",Object(b.jsx)(\"span\",{className:\"text-danger\",children:\"*\"})]}),Object(b.jsx)(\"input\",{type:\"password\",className:\"form-control\",required:!0,value:u,onChange:e=>h(e.currentTarget.value),minLength:\"6\"})]}),Object(b.jsx)(\"div\",{className:\"login_submit\",children:Object(b.jsx)(\"button\",{className:\"theme-btn-one btn-black-overlay btn_md\",type:\"submit\",disabled:x,children:x?\"Giri\\u015f yap\\u0131l\\u0131yor...\":\"Giri\\u015f Yap\"})}),Object(b.jsx)(\"div\",{className:\"remember_area\",children:Object(b.jsxs)(\"div\",{className:\"form-check\",children:[Object(b.jsx)(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"materialUnchecked\"}),Object(b.jsx)(\"label\",{className:\"form-check-label\",htmlFor:\"materialUnchecked\",children:\"Beni Hat\\u0131rla\"})]})}),Object(b.jsx)(r.b,{to:\"/register\",className:\"active\",children:\"Hesab\\u0131n\\u0131z yok mu? Kay\\u0131t Ol\"})]})]})})})})})})},u=t(71);a.default=()=>Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(i.a,{}),Object(b.jsx)(j,{}),Object(b.jsx)(u.a,{})]})}}]);","name":"static/js/70.5da644c1.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","react","Header","react_router","react_router_dom","es","sweetalert2_all","sweetalert2_all_default","n","firebaseConfig","user","jsx_runtime","Login","dispatch","Object","history","status","state","storedUser","email","setEmail","pass","setPass","loading","setLoading","children","id","className","onSubmit","e","preventDefault","async","a","fire","icon","title","name","html","then","result","isConfirmed","text","userCredential","signInWithEmailAndPassword","uid","nameToUse","docRef","collection","doc","docSnap","get","exists","data","displayName","console","warn","timer","showConfirmButton","setTimeout","error","errorMessage","code","message","login","type","required","value","onChange","currentTarget","minLength","disabled","htmlFor","to","Footer"],"sources":["static/js/70.5da644c1.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonpmy-app\"] = this[\"webpackJsonpmy-app\"] || []).push([[70],{\n\n/***/ 238:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./src/component/Common/Header/index.js + 6 modules\nvar Header = __webpack_require__(70);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(31);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 24 modules\nvar es = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./node_modules/sweetalert2/dist/sweetalert2.all.js\nvar sweetalert2_all = __webpack_require__(18);\nvar sweetalert2_all_default = /*#__PURE__*/__webpack_require__.n(sweetalert2_all);\n\n// EXTERNAL MODULE: ./src/firebaseConfig.js\nvar firebaseConfig = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./src/app/slices/user.js\nvar user = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/component/Login/index.js\nconst LoginArea=()=>{let dispatch=Object(es[\"b\" /* useDispatch */])();const history=Object(react_router[\"f\" /* useHistory */])();let status=Object(es[\"c\" /* useSelector */])(state=>state.user.status);let storedUser=Object(es[\"c\" /* useSelector */])(state=>state.user.user);const[email,setEmail]=Object(react[\"useState\"])('');const[pass,setPass]=Object(react[\"useState\"])('');const[loading,setLoading]=Object(react[\"useState\"])(false);// Login\nconst login=async()=>{if(status){sweetalert2_all_default.a.fire({icon:'question',title:'Sayın '+storedUser.name,html:'Zaten giriş yapmışsınız <br />'+'<b>Hesabım</b> sayfasına gidebilir veya <b>Alışveriş</b> yapabilirsiniz'}).then(result=>{if(result.isConfirmed){history.push('/my-account');}});}else{if(!email||!pass){sweetalert2_all_default.a.fire({icon:'warning',title:'Eksik Bilgi',text:'Lütfen email ve şifre girin'});return;}setLoading(true);try{const userCredential=await firebaseConfig[\"a\" /* auth */].signInWithEmailAndPassword(email,pass);const uid=userCredential.user.uid;// Firestore'dan kullanıcı bilgilerini al\nlet nameToUse='Müşteri';try{const docRef=firebaseConfig[\"b\" /* db */].collection('users').doc(uid);const docSnap=await docRef.get();if(docSnap.exists){const data=docSnap.data();nameToUse=data.name||userCredential.user.displayName||'Müşteri';}else{nameToUse=userCredential.user.displayName||'Müşteri';}}catch(e){console.warn('Firestore read failed:',e);nameToUse=userCredential.user.displayName||'Müşteri';}// Redux store'u güncelle\ndispatch(Object(user[\"c\" /* register */])({user:nameToUse,email:email,pass:pass}));setLoading(false);sweetalert2_all_default.a.fire({icon:'success',title:'Giriş Başarılı!',text:'Hoş geldiniz '+nameToUse,timer:1500,showConfirmButton:false});setTimeout(()=>{history.push(\"/\");},100);}catch(error){setLoading(false);console.error('Login error:',error);let errorMessage='Bir hata oluştu. Lütfen tekrar deneyin.';if(error.code==='auth/user-not-found'){errorMessage='Bu email adresi ile kayıtlı kullanıcı bulunamadı.';}else if(error.code==='auth/wrong-password'){errorMessage='Şifre yanlış.';}else if(error.code==='auth/invalid-email'){errorMessage='Geçersiz email adresi.';}else if(error.message){errorMessage=error.message;}sweetalert2_all_default.a.fire({icon:'error',title:'Giriş Başarısız',text:errorMessage});}}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"section\",{id:\"login_area\",className:\"ptb-100\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-lg-6 offset-lg-3 col-md-12 col-sm-12 col-12\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"account_form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Giri\\u015F Yap\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:e=>{e.preventDefault();login();},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"default-form-box\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Email\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",className:\"form-control\",required:true,value:email,onChange:e=>setEmail(e.currentTarget.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"default-form-box\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"\\u015Eifre\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",className:\"form-control\",required:true,value:pass,onChange:e=>setPass(e.currentTarget.value),minLength:\"6\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login_submit\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"theme-btn-one btn-black-overlay btn_md\",type:\"submit\",disabled:loading,children:loading?'Giriş yapılıyor...':'Giriş Yap'})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"remember_area\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-check\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"materialUnchecked\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"form-check-label\",htmlFor:\"materialUnchecked\",children:\"Beni Hat\\u0131rla\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/register\",className:\"active\",children:\"Hesab\\u0131n\\u0131z yok mu? Kay\\u0131t Ol\"})]})]})})})})})});};/* harmony default export */ var Login = (LoginArea);\n// EXTERNAL MODULE: ./src/component/Common/Footer/index.js + 1 modules\nvar Footer = __webpack_require__(71);\n\n// CONCATENATED MODULE: ./src/page/login.js\nconst login_Login=()=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Login,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Footer[\"a\" /* default */],{})]});};/* harmony default export */ var page_login = __webpack_exports__[\"default\"] = (login_Login);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/mustafabozyel/Github-Desktop/malikanelectronics/src/component/Login/index.js","/Users/mustafabozyel/Github-Desktop/malikanelectronics/src/page/login.js"],"names":["LoginArea","dispatch","useDispatch","history","useHistory","status","useSelector","state","user","storedUser","email","setEmail","useState","pass","setPass","loading","setLoading","login","Swal","fire","icon","title","name","html","then","result","isConfirmed","push","text","userCredential","auth","signInWithEmailAndPassword","uid","nameToUse","docRef","db","collection","doc","docSnap","get","exists","data","displayName","e","console","warn","register","timer","showConfirmButton","setTimeout","error","errorMessage","code","message","_jsx","_Fragment","children","id","className","_jsxs","onSubmit","preventDefault","type","required","value","onChange","currentTarget","minLength","disabled","htmlFor","Link","to","Login","Header","Footer"],"mappings":"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","file":"x","sourcesContent":["import React, { useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Swal from 'sweetalert2';\nimport { auth, db } from '../../firebaseConfig'\nimport { register } from '../../app/slices/user'\n\nconst LoginArea = () => {\n    let dispatch = useDispatch();\n    const history = useHistory()\n\n    let status = useSelector((state) => state.user.status);\n    let storedUser = useSelector((state) => state.user.user);\n    const [email, setEmail] = useState('')\n    const [pass, setPass] = useState('')\n    const [loading, setLoading] = useState(false)\n\n    // Login\n    const login = async () => {\n        if(status){\n            Swal.fire({\n                icon: 'question',\n                title: 'Sayın ' + storedUser.name,\n                html:\n                    'Zaten giriş yapmışsınız <br />' +\n                    '<b>Hesabım</b> sayfasına gidebilir veya <b>Alışveriş</b> yapabilirsiniz',\n            }).then((result) => {\n                if(result.isConfirmed) {\n                  history.push('/my-account')\n                }\n              });\n        }else{\n            if(!email || !pass){\n                Swal.fire({\n                    icon: 'warning',\n                    title: 'Eksik Bilgi',\n                    text: 'Lütfen email ve şifre girin'\n                })\n                return\n            }\n\n            setLoading(true)\n            try{\n                const userCredential = await auth.signInWithEmailAndPassword(email, pass)\n                const uid = userCredential.user.uid\n\n                // Firestore'dan kullanıcı bilgilerini al\n                let nameToUse = 'Müşteri'\n                try {\n                    const docRef = db.collection('users').doc(uid)\n                    const docSnap = await docRef.get()\n                    if(docSnap.exists){\n                        const data = docSnap.data()\n                        nameToUse = data.name || userCredential.user.displayName || 'Müşteri'\n                    } else {\n                        nameToUse = userCredential.user.displayName || 'Müşteri'\n                    }\n                } catch(e) {\n                    console.warn('Firestore read failed:', e)\n                    nameToUse = userCredential.user.displayName || 'Müşteri'\n                }\n\n                // Redux store'u güncelle\n                dispatch(register({ user: nameToUse, email: email, pass: pass }))\n                setLoading(false)\n\n                Swal.fire({\n                    icon: 'success',\n                    title: 'Giriş Başarılı!',\n                    text: 'Hoş geldiniz ' + nameToUse,\n                    timer: 1500,\n                    showConfirmButton: false\n                })\n                \n                setTimeout(() => {\n                    history.push(\"/\");\n                }, 100)\n            } catch(error){\n                setLoading(false)\n                console.error('Login error:', error)\n                let errorMessage = 'Bir hata oluştu. Lütfen tekrar deneyin.'\n                \n                if(error.code === 'auth/user-not-found'){\n                    errorMessage = 'Bu email adresi ile kayıtlı kullanıcı bulunamadı.'\n                } else if(error.code === 'auth/wrong-password'){\n                    errorMessage = 'Şifre yanlış.'\n                } else if(error.code === 'auth/invalid-email'){\n                    errorMessage = 'Geçersiz email adresi.'\n                } else if(error.message){\n                    errorMessage = error.message\n                }\n\n                Swal.fire({\n                    icon: 'error',\n                    title: 'Giriş Başarısız',\n                    text: errorMessage\n                })\n            }\n        }\n    }\n\n    return (\n        <>\n            <section id=\"login_area\" className=\"ptb-100\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-lg-6 offset-lg-3 col-md-12 col-sm-12 col-12\">\n                            <div className=\"account_form\">\n                                <h3>Giriş Yap</h3>\n                                <form onSubmit={(e)=>{e.preventDefault();login()}}>\n                                    <div className=\"default-form-box\">\n                                        <label>Email<span className=\"text-danger\">*</span></label>\n                                        <input type=\"email\" className=\"form-control\" required value={email} onChange={e => setEmail(e.currentTarget.value)} />\n                                    </div>\n                                    <div className=\"default-form-box\">\n                                        <label>Şifre<span className=\"text-danger\">*</span></label>\n                                        <input type=\"password\" className=\"form-control\" required value={pass} onChange={e => setPass(e.currentTarget.value)} minLength=\"6\"/>\n                                    </div>\n                                    <div className=\"login_submit\">\n                                        <button \n                                            className=\"theme-btn-one btn-black-overlay btn_md\" \n                                            type=\"submit\"\n                                            disabled={loading}\n                                        >\n                                            {loading ? 'Giriş yapılıyor...' : 'Giriş Yap'}\n                                        </button>\n                                    </div>\n                                    <div className=\"remember_area\">\n                                        <div className=\"form-check\">\n                                            <input type=\"checkbox\" className=\"form-check-input\" id=\"materialUnchecked\"/>\n                                            <label className=\"form-check-label\" htmlFor=\"materialUnchecked\">Beni Hatırla</label>\n                                        </div>\n                                    </div>\n                                    <Link to=\"/register\" className=\"active\">Hesabınız yok mu? Kayıt Ol</Link>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        </>\n    )\n}\n\nexport default LoginArea\n","import React from 'react'\nimport Header from '../component/Common/Header'\nimport LoginArea from '../component/Login'\nimport Footer from '../component/Common/Footer'\n\nconst Login = () => {\n    return (\n        <>\n            <Header />\n            <LoginArea />\n            <Footer />\n        </>\n    )\n}\n\nexport default Login"]}}