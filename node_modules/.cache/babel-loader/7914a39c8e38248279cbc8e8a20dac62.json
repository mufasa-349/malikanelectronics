{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import BabyHeading from'../Heading';import{getProductsData}from'../../../app/data/productsData';import ProductCard from'../../Common/Product/ProductCard';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TrendingProducts=()=>{const[trendingProducts,setTrendingProducts]=useState([]);const[allAvailableProducts,setAllAvailableProducts]=useState([]);const[displayedCount,setDisplayedCount]=useState(12);const[loading,setLoading]=useState(true);useEffect(()=>{try{// En çok yorumlanan 100 ürünü al\nconst allProducts=getProductsData();console.log('Toplam ürün sayısı:',allProducts.length);console.log('İlk ürün:',allProducts[0]);if(!allProducts||allProducts.length===0){console.log('Ürün bulunamadı!');setLoading(false);return;}// Yorum sayısına göre sırala (en yüksekten en düşüğe) - yeni array oluştur\nconst sortedByReviews=[...allProducts].sort((a,b)=>(b.reviewCount||0)-(a.reviewCount||0));// En çok yorumlanan 100 ürünü al\nconst top100Products=sortedByReviews.slice(0,Math.min(100,allProducts.length));// Random karıştır\nconst shuffled=[...top100Products].sort(()=>0.5-Math.random());console.log('Kullanılabilir ürün sayısı:',shuffled.length);setAllAvailableProducts(shuffled);// İlk 12 ürünü göster\nconst initialProducts=shuffled.slice(0,Math.min(12,shuffled.length));setTrendingProducts(initialProducts);setLoading(false);}catch(error){console.error('TrendingProducts hatası:',error);setLoading(false);}},[]);const loadMoreProducts=()=>{const newCount=displayedCount+10;const newProducts=allAvailableProducts.slice(0,Math.min(newCount,allAvailableProducts.length));setTrendingProducts(newProducts);setDisplayedCount(newCount);};if(loading){return/*#__PURE__*/_jsx(\"section\",{id:\"baby_trending_product\",className:\"ptb-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(BabyHeading,{heading:\"Pop\\xFCler \\xDCr\\xFCnler\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Y\\xFCkleniyor...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3\",children:\"\\xDCr\\xFCnler y\\xFCkleniyor...\"})]})]})});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"section\",{id:\"baby_trending_product\",className:\"ptb-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(BabyHeading,{heading:\"Pop\\xFCler \\xDCr\\xFCnler\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:trendingProducts.length>0?trendingProducts.map((product,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 col-md-4 col-sm-6\",children:/*#__PURE__*/_jsx(ProductCard,{data:product})},product.id)):/*#__PURE__*/_jsx(\"div\",{className:\"col-12 text-center\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Hen\\xFCz \\xFCr\\xFCn bulunmuyor.\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-4\",children:[displayedCount<allAvailableProducts.length&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary me-4\",onClick:loadMoreProducts,children:\"Daha Fazla \\xDCr\\xFCn G\\xF6ster (+10)\"}),/*#__PURE__*/_jsx(Link,{to:\"/shop\",className:\"btn btn-primary\",children:\"T\\xFCm \\xDCr\\xFCnleri G\\xF6ster\"})]})]})})});};export default TrendingProducts;","map":{"version":3,"names":["React","useState","useEffect","Link","BabyHeading","getProductsData","ProductCard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TrendingProducts","trendingProducts","setTrendingProducts","allAvailableProducts","setAllAvailableProducts","displayedCount","setDisplayedCount","loading","setLoading","allProducts","console","log","length","sortedByReviews","sort","a","b","reviewCount","top100Products","slice","Math","min","shuffled","random","initialProducts","error","loadMoreProducts","newCount","newProducts","id","className","children","heading","role","map","product","index","data","onClick","to"],"sources":["/Users/mustafabozyel/Github-Desktop/malikanelectronics/src/component/BabyToys/TrendingProducts/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport BabyHeading from '../Heading'\nimport { getProductsData } from '../../../app/data/productsData'\nimport ProductCard from '../../Common/Product/ProductCard'\n\nconst TrendingProducts = () => {\n    const [trendingProducts, setTrendingProducts] = useState([])\n    const [allAvailableProducts, setAllAvailableProducts] = useState([])\n    const [displayedCount, setDisplayedCount] = useState(12)\n    const [loading, setLoading] = useState(true)\n\n    useEffect(() => {\n        try {\n            // En çok yorumlanan 100 ürünü al\n            const allProducts = getProductsData()\n            console.log('Toplam ürün sayısı:', allProducts.length)\n            console.log('İlk ürün:', allProducts[0])\n            \n            if (!allProducts || allProducts.length === 0) {\n                console.log('Ürün bulunamadı!')\n                setLoading(false)\n                return\n            }\n            \n            // Yorum sayısına göre sırala (en yüksekten en düşüğe) - yeni array oluştur\n            const sortedByReviews = [...allProducts].sort((a, b) => (b.reviewCount || 0) - (a.reviewCount || 0))\n            \n            // En çok yorumlanan 100 ürünü al\n            const top100Products = sortedByReviews.slice(0, Math.min(100, allProducts.length))\n            \n            // Random karıştır\n            const shuffled = [...top100Products].sort(() => 0.5 - Math.random())\n            \n            console.log('Kullanılabilir ürün sayısı:', shuffled.length)\n            setAllAvailableProducts(shuffled)\n            \n            // İlk 12 ürünü göster\n            const initialProducts = shuffled.slice(0, Math.min(12, shuffled.length))\n            setTrendingProducts(initialProducts)\n            setLoading(false)\n        } catch (error) {\n            console.error('TrendingProducts hatası:', error)\n            setLoading(false)\n        }\n    }, [])\n\n    const loadMoreProducts = () => {\n        const newCount = displayedCount + 10\n        const newProducts = allAvailableProducts.slice(0, Math.min(newCount, allAvailableProducts.length))\n        setTrendingProducts(newProducts)\n        setDisplayedCount(newCount)\n    }\n\n    if (loading) {\n        return (\n            <section id=\"baby_trending_product\" className=\"ptb-100\">\n                <div className=\"container\">\n                    <BabyHeading heading=\"Popüler Ürünler\" />\n                    <div className=\"text-center\">\n                        <div className=\"spinner-border text-primary\" role=\"status\">\n                            <span className=\"sr-only\">Yükleniyor...</span>\n                        </div>\n                        <p className=\"mt-3\">Ürünler yükleniyor...</p>\n                    </div>\n                </div>\n            </section>\n        )\n    }\n\n    return (\n        <>\n            <section id=\"baby_trending_product\" className=\"ptb-100\">\n                <div className=\"container\">\n                    <BabyHeading heading=\"Popüler Ürünler\" />\n                    <div className=\"row\">\n                        {trendingProducts.length > 0 ? (\n                            trendingProducts.map((product, index) => (\n                                <div className=\"col-lg-3 col-md-4 col-sm-6\" key={product.id}>\n                                    <ProductCard data={product} />\n                                </div>\n                            ))\n                        ) : (\n                            <div className=\"col-12 text-center\">\n                                <p>Henüz ürün bulunmuyor.</p>\n                            </div>\n                        )}\n                    </div>\n                    \n                    {/* Butonlar */}\n                    <div className=\"text-center mt-4\">\n                        {displayedCount < allAvailableProducts.length && (\n                            <button \n                                className=\"btn btn-outline-primary me-4\"\n                                onClick={loadMoreProducts}\n                            >\n                                Daha Fazla Ürün Göster (+10)\n                            </button>\n                        )}\n                        \n                        <Link \n                            to=\"/shop\" \n                            className=\"btn btn-primary\"\n                        >\n                            Tüm Ürünleri Göster\n                        </Link>\n                    </div>\n                </div>\n            </section>\n        </>\n    )\n}\n\nexport default TrendingProducts"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}