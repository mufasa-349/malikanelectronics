(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[38],{181:function(e,t,s){"use strict";s.r(t);var c=s(2),a=s(8),l=s(70),r=s(71),n=s(72),i=(s(83),s(36)),o=s(1);t.default=()=>{const{categorySlug:e}=Object(a.h)(),t=Object(a.g)(),[s,d]=Object(c.useState)([]),[j,b]=Object(c.useState)([]),[h,m]=Object(c.useState)([]),[u,O]=Object(c.useState)(!0),[g,x]=Object(c.useState)(!1),[p,v]=Object(c.useState)(""),[N,y]=Object(c.useState)([]),[f,w]=Object(c.useState)(null),[S,k]=Object(c.useState)("popularity"),[P,_]=Object(c.useState)("most-popular"),[C]=Object(c.useState)(50),[L,T]=Object(c.useState)(1),B=e=>{if("tum-urunler"===e||"all"===e)return"T\xfcm \xdcr\xfcnler";const t=Object(i.a)();for(const[s,c]of Object.entries(t)){if(c.slug===e)return s;for(const[t,s]of Object.entries(c.subcategories))if(s.slug===e)return t}return e},F=(e,t)=>{const s=[...e];switch(t){case"popularity":return s.sort((e,t)=>t.rating*t.reviewCount-e.rating*e.reviewCount);case"newness":return s.sort((e,t)=>t.id-e.id);case"price-low":return s.sort((e,t)=>e.price-t.price);case"price-high":return s.sort((e,t)=>t.price-e.price);case"name-asc":return s.sort((e,t)=>e.title.localeCompare(t.title));case"name-desc":return s.sort((e,t)=>t.title.localeCompare(e.title));default:return s}},E=e=>{_(e);const t=((e,t)=>{switch(t){case"most-popular":case"best-seller":return F(e,"popularity");case"trending":return F(e,"newness");case"featured":return F(e,"rating");default:return e}})(s,e);b(t),T(1),m(t.slice(0,C))},A=Object(c.useCallback)(()=>{g||h.length>=j.length||(x(!0),setTimeout(()=>{T(e=>{const t=e+1,s=e*C,c=s+C,a=j.slice(s,c);return m(e=>[...e,...a]),x(!1),t})},300))},[g,h.length,j,C]);Object(c.useEffect)(()=>{const e=()=>{if(g||h.length>=j.length)return;(window.pageYOffset||document.documentElement.scrollTop)+window.innerHeight>=document.documentElement.scrollHeight-200&&A()};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[h.length,j.length,g,A]),Object(c.useEffect)(()=>{(async()=>{O(!0);try{var s;console.log("CategoryPage - categorySlug:",e);const a=new URLSearchParams(t.search).get("subcategory");let l,r=[];if("tum-urunler"===e||"all"===e)l=Object(i.d)(),v("T\xfcm \xdcr\xfcnler"),b(l),m(l.slice(0,C));else{var c;l=Object(i.c)(e),console.log("CategoryPage - categoryProducts:",(null===(c=l)||void 0===c?void 0:c.length)||0),v(B(e));const t=Object(i.a)();for(const[s,c]of Object.entries(t))if(c.slug===e){r=Object.keys(c.subcategories).map(e=>({name:e,slug:c.subcategories[e].slug,fullPaths:c.subcategories[e].full_paths}));break}if(a&&r.length>0){const e=r.find(e=>e.slug===a);if(e){w(e);const t=l.filter(t=>{const s=t.category||"";return e.fullPaths.includes(s)});b(t),m(t.slice(0,C))}else b(l),m(l.slice(0,C))}else b(l),m(l.slice(0,C))}console.log("CategoryPage - Final categoryProducts:",(null===(s=l)||void 0===s?void 0:s.length)||0),console.log("CategoryPage - categoryName:",p||B(e)),d(l),y(r),T(1)}catch(a){console.error("\xdcr\xfcnler y\xfcklenirken hata:",a),d([]),b([]),m([])}O(!1)})()},[e,t.search,C]);return u?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(l.a,{}),Object(o.jsx)("section",{className:"ptb-100",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"text-center py-5",children:[Object(o.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(o.jsx)("span",{className:"sr-only",children:"Y\xfckleniyor..."})}),Object(o.jsx)("p",{className:"mt-3",children:"\xdcr\xfcnler y\xfckleniyor..."})]})})}),Object(o.jsx)(r.a,{})]}):(console.log("CategoryPage Render - filteredProducts.length:",j.length),console.log("CategoryPage Render - displayedProducts.length:",h.length),console.log("CategoryPage Render - categoryName:",p),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(l.a,{}),Object(o.jsx)("section",{className:"ptb-100",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-lg-12",children:Object(o.jsxs)("div",{className:"section-title text-center mb-5",children:[Object(o.jsxs)("h2",{children:[p," Kategorisi"]}),Object(o.jsxs)("p",{children:[j.length," \xfcr\xfcn bulundu"]})]})})}),N.length>0&&Object(o.jsx)("div",{className:"subcategory-filters mb-4",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-12",children:[Object(o.jsx)("h4",{className:"mb-3",children:"Alt Kategoriler:"}),Object(o.jsxs)("div",{className:"subcategory-buttons",children:[Object(o.jsxs)("button",{className:"btn ".concat(null===f?"btn-primary":"btn-outline-primary"," me-2 mb-2"),onClick:()=>{w(null),b(s);const e=t.pathname;window.history.pushState({},"",e)},children:["T\xfcm\xfc (",s.length,")"]}),N.map((e,c)=>Object(o.jsx)("button",{className:"btn ".concat((null===f||void 0===f?void 0:f.slug)===e.slug?"btn-primary":"btn-outline-primary"," me-2 mb-2"),onClick:()=>(e=>{w(e);const c=s.filter(t=>{const s=t.category||"";return e.fullPaths.includes(s)});b(c),T(1),m(c.slice(0,C));const a="".concat(t.pathname,"?subcategory=").concat(e.slug);window.history.pushState({},"",a)})(e),children:e.name},c))]})]})})}),Object(o.jsxs)("div",{className:"row mb-4",children:[Object(o.jsx)("div",{className:"col-lg-6 col-md-12",children:Object(o.jsx)("div",{className:"product_filter",children:Object(o.jsx)("div",{className:"customs_selects",children:Object(o.jsxs)("select",{name:"filter",className:"customs_sel_box",value:P,onChange:e=>E(e.target.value),children:[Object(o.jsx)("option",{value:"most-popular",children:"Most Popular"}),Object(o.jsx)("option",{value:"best-seller",children:"Best Seller"}),Object(o.jsx)("option",{value:"trending",children:"Trending"}),Object(o.jsx)("option",{value:"featured",children:"Featured"})]})})})}),Object(o.jsx)("div",{className:"col-lg-6 col-md-12",children:Object(o.jsxs)("div",{className:"product_shot",children:[Object(o.jsx)("div",{className:"product_shot_title",children:Object(o.jsx)("p",{children:"Sort By:"})}),Object(o.jsx)("div",{className:"customs_selects",children:Object(o.jsxs)("select",{name:"sort",className:"customs_sel_box",value:S,onChange:e=>(e=>{k(e);const t=F(s,e);b(t),T(1),m(t.slice(0,C))})(e.target.value),children:[Object(o.jsx)("option",{value:"popularity",children:"Sort By Popularity"}),Object(o.jsx)("option",{value:"newness",children:"Sort By Newness"}),Object(o.jsx)("option",{value:"price-low",children:"Price: Low to High"}),Object(o.jsx)("option",{value:"price-high",children:"Price: High to Low"}),Object(o.jsx)("option",{value:"name-asc",children:"Name: A to Z"}),Object(o.jsx)("option",{value:"name-desc",children:"Name: Z to A"})]})})]})})]}),j.length>0?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"row",children:h.map(e=>Object(o.jsx)("div",{className:"col-lg-3 col-md-4 col-sm-6 col-12 mb-4",children:Object(o.jsx)(n.a,{data:e})},e.id))}),g&&Object(o.jsx)("div",{className:"row mt-4",children:Object(o.jsxs)("div",{className:"col-12 text-center",children:[Object(o.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(o.jsx)("span",{className:"sr-only",children:"Y\xfckleniyor..."})}),Object(o.jsx)("p",{className:"mt-2",children:"Daha fazla \xfcr\xfcn y\xfckleniyor..."})]})}),!g&&h.length<j.length&&Object(o.jsx)("div",{className:"row mt-4",children:Object(o.jsx)("div",{className:"col-12 text-center",children:Object(o.jsxs)("button",{className:"btn btn-primary",onClick:A,children:["Daha Fazla Y\xfckle (",h.length," / ",j.length,")"]})})}),h.length>=j.length&&h.length>C&&Object(o.jsx)("div",{className:"row mt-4",children:Object(o.jsx)("div",{className:"col-12 text-center",children:Object(o.jsxs)("p",{className:"text-muted",children:["T\xfcm \xfcr\xfcnler g\xf6sterildi (",j.length," \xfcr\xfcn)"]})})})]}):Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-lg-12",children:Object(o.jsxs)("div",{className:"text-center py-5",children:[Object(o.jsx)("h3",{children:"Bu kategoride \xfcr\xfcn bulunamad\u0131"}),Object(o.jsx)("p",{children:"Bu kategoride hen\xfcz \xfcr\xfcn bulunmuyor."})]})})})]})}),Object(o.jsx)(r.a,{})]}))}},72:function(e,t,s){"use strict";s(2);var c=s(31),a=s(35),l=s(73),r=s(1);t.a=e=>{Object(a.b)();return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"product_wrappers_one",children:[Object(r.jsxs)("div",{className:"thumb",children:[Object(r.jsxs)(c.b,{to:"/product-details-one/".concat(e.data.id),className:"image",children:[Object(r.jsx)("img",{src:e.data.image||e.data.img||e.data.mainImage||e.data.images&&e.data.images[0],alt:e.data.title}),Object(r.jsx)("img",{className:"hover-image",src:e.data.images&&e.data.images[1]||e.data.image||e.data.img||e.data.mainImage||e.data.images&&e.data.images[0],alt:e.data.title})]}),Object(r.jsxs)("span",{className:"badges",children:[Object(r.jsx)("span",{className:"new",children:"Yeni"}),e.data.inStock?Object(r.jsx)("span",{className:"sale",children:"Stokta"}):Object(r.jsx)("span",{className:"hot",children:"T\xfckendi"})]}),Object(r.jsxs)("div",{className:"product-actions",children:[Object(r.jsx)("a",{href:"https://wa.me/905393973949?text=Merhaba, ".concat(e.data.title," \xfcr\xfcn\xfc hakk\u0131nda bilgi almak istiyorum. \xdcr\xfcn Kodu: ").concat(e.data.productCode," - Fiyat: \u20ba").concat(e.data.price.toLocaleString()),target:"_blank",rel:"noopener noreferrer",className:"whatsapp-btn-small",title:"WhatsApp ile \u0130leti\u015fim",onClick:()=>{return t=e.data.id,void Object(l.b)(t);var t},children:Object(r.jsx)("i",{className:"fab fa-whatsapp",style:{fontSize:"16px"}})}),Object(r.jsx)("a",{href:"tel:+905393973949",className:"phone-btn-small",title:"Telefon Et",children:Object(r.jsx)("i",{className:"fa fa-phone"})})]})]}),Object(r.jsxs)("div",{className:"content",children:[Object(r.jsx)("h5",{className:"title",children:Object(r.jsx)(c.b,{to:"/product-details-one/".concat(e.data.id),children:e.data.title})}),Object(r.jsx)("div",{className:"brand-info",children:Object(r.jsx)("small",{className:"text-muted",children:e.data.brand})}),Object(r.jsx)("div",{className:"product-code-info",children:Object(r.jsxs)("small",{className:"text-muted",children:["Kod: ",Object(r.jsx)("strong",{children:e.data.productCode})]})}),Object(r.jsxs)("div",{className:"rating",children:[Object(r.jsx)("div",{className:"stars",children:[...Array(5)].map((t,s)=>Object(r.jsx)("i",{className:"fa fa-star ".concat(s<Math.floor(e.data.rating)?"text-warning":"text-muted")},s))}),Object(r.jsxs)("small",{className:"text-muted",children:["(",e.data.reviewCount,")"]})]}),Object(r.jsxs)("span",{className:"price",children:[Object(r.jsxs)("span",{className:"new",children:["\u20ba",e.data.price.toLocaleString()]}),e.data.originalPrice&&e.data.originalPrice!==e.data.price&&Object(r.jsxs)("span",{className:"old",children:["\u20ba",e.data.originalPrice.toLocaleString()]})]})]})]})})}},73:function(e,t,s){"use strict";s.d(t,"b",function(){return l}),s.d(t,"a",function(){return r});s(20);const c="whatsapp_clicks",a=()=>{try{const e=localStorage.getItem(c);return e?JSON.parse(e):{}}catch(e){return console.error("WhatsApp t\u0131klama say\u0131lar\u0131 al\u0131n\u0131rken hata:",e),{}}},l=e=>{const t=a();return t[e]=(t[e]||0)+1,(e=>{try{localStorage.setItem(c,JSON.stringify(e))}catch(t){console.error("WhatsApp t\u0131klama say\u0131lar\u0131 kaydedilirken hata:",t)}})(t),t[e]},r=e=>a()[e]||0},83:function(e,t,s){"use strict";s(2);var c=s(31),a=s(1);t.a=e=>Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-6 col-md-12",children:Object(a.jsx)("div",{className:"product_filter",children:Object(a.jsx)("div",{className:"customs_selects",children:Object(a.jsxs)("select",{name:"product",className:"customs_sel_box",onChange:()=>{e.filterEvent(1)},children:[Object(a.jsx)("option",{value:"volvo",children:"Most Popular"}),Object(a.jsx)("option",{value:"saab",children:"Best Seller"}),Object(a.jsx)("option",{value:"mercedes",children:"Trending"}),Object(a.jsx)("option",{value:"audi",children:"Featured"})]})})})}),Object(a.jsx)("div",{className:"col-lg-6 col-md-12",children:Object(a.jsxs)("div",{className:"product_shot",children:[Object(a.jsx)("div",{className:"product_shot_title",children:Object(a.jsx)("p",{children:"Sort By:"})}),Object(a.jsx)("div",{className:"customs_selects",children:Object(a.jsxs)("select",{name:"product",className:"customs_sel_box",onChange:()=>{e.filterEvent(1)},children:[Object(a.jsx)("option",{value:"Popularity",children:"Sort By Popularity"}),Object(a.jsx)("option",{value:"newness",children:"Sort By Newness"}),Object(a.jsx)("option",{value:"low",children:"Price: Low to High"}),Object(a.jsx)("option",{value:"high",children:"Price: High to Low"})]})}),Object(a.jsx)("div",{className:"product_shot_view",children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(c.b,{to:"/shopList",children:Object(a.jsx)("i",{className:"fa fa-list"})})}),Object(a.jsx)("li",{children:Object(a.jsx)(c.b,{to:"/shopTwo",children:Object(a.jsx)("i",{className:"fa fa-th-large"})})}),Object(a.jsx)("li",{children:Object(a.jsx)(c.b,{to:"/shop",children:Object(a.jsx)("i",{className:"fa fa-th"})})})]})})]})})]})})}}]);
//# sourceMappingURL=38.44d826eb.chunk.js.map