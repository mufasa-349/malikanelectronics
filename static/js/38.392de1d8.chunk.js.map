{"version":3,"sources":["component/Common/CategoryPage/index.js","component/Common/Product/ProductCard.js","utils/whatsappTracker.js","component/Shop/Filter.js"],"names":["CategoryPage","categorySlug","useParams","location","useLocation","products","setProducts","useState","filteredProducts","setFilteredProducts","displayedProducts","setDisplayedProducts","loading","setLoading","loadingMore","setLoadingMore","categoryName","setCategoryName","subcategories","setSubcategories","selectedSubcategory","setSelectedSubcategory","sortBy","setSortBy","filterBy","setFilterBy","itemsPerPage","currentPage","setCurrentPage","sortProducts","sortType","sortedProducts","sort","a","b","rating","reviewCount","id","price","title","localeCompare","handleFilterChange","filterType","filtered","filterProducts","slice","loadMoreProducts","useCallback","length","setTimeout","prevPage","nextPage","startIndex","endIndex","newProducts","prev","useEffect","handleScroll","window","pageYOffset","document","documentElement","scrollTop","innerHeight","scrollHeight","addEventListener","removeEventListener","async","subcategoryParam","URLSearchParams","search","get","categoryProducts","foundSubcategories","getProductsData","getProductsByCategory","slug","categoryTree","getCategoryTree","mainCat","data","Object","entries","subCat","subData","getCategoryName","keys","map","name","fullPaths","full_paths","subcat","find","s","filter","product","productCategory","category","includes","error","console","fetchProducts","_jsxs","_Fragment","children","_jsx","Header","className","role","Footer","concat","onClick","newUrl","pathname","history","pushState","index","subcategory","handleSubcategoryClick","value","onChange","e","target","sorted","handleSortChange","ProductCard","props","useDispatch","Link","to","src","image","img","mainImage","images","alt","inStock","href","productCode","toLocaleString","rel","handleWhatsAppClick","productId","incrementWhatsAppClick","style","fontSize","brand","Array","_","i","Math","floor","originalPrice","WHATSAPP_CLICKS_KEY","getWhatsAppClicks","clicks","localStorage","getItem","JSON","parse","setItem","stringify","saveWhatsAppClicks","getProductWhatsAppClicks","Filter","filterEvent"],"mappings":"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","file":"static/js/38.392de1d8.chunk.js","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react'\nimport { useParams, useLocation } from 'react-router-dom'\nimport Header from '../Header'\nimport Footer from '../Footer'\nimport ProductCard from '../Product/ProductCard'\nimport Filter from '../../Shop/Filter'\nimport { getProductsByCategory, getProductsData, getCategoryTree } from '../../../app/data/productsData'\n\nconst CategoryPage = () => {\n    const { categorySlug } = useParams()\n    const location = useLocation()\n    const [products, setProducts] = useState([])\n    const [filteredProducts, setFilteredProducts] = useState([])\n    const [displayedProducts, setDisplayedProducts] = useState([])\n    const [loading, setLoading] = useState(true)\n    const [loadingMore, setLoadingMore] = useState(false)\n    const [categoryName, setCategoryName] = useState('')\n    const [subcategories, setSubcategories] = useState([])\n    const [selectedSubcategory, setSelectedSubcategory] = useState(null)\n    const [sortBy, setSortBy] = useState('popularity')\n    const [filterBy, setFilterBy] = useState('most-popular')\n    const [itemsPerPage] = useState(50)\n    const [currentPage, setCurrentPage] = useState(1)\n\n    // Kategori slug'ından kategori adını bul\n    const getCategoryName = (slug) => {\n        if (slug === 'tum-urunler' || slug === 'all') {\n            return 'Tüm Ürünler'\n        }\n        \n        const categoryTree = getCategoryTree()\n        for (const [mainCat, data] of Object.entries(categoryTree)) {\n            if (data.slug === slug) {\n                return mainCat\n            }\n            // Alt kategorileri kontrol et\n            for (const [subCat, subData] of Object.entries(data.subcategories)) {\n                if (subData.slug === slug) {\n                    return subCat\n                }\n            }\n        }\n        return slug\n    }\n\n    // Sıralama fonksiyonları\n    const sortProducts = (products, sortType) => {\n        const sortedProducts = [...products]\n        \n        switch (sortType) {\n            case 'popularity':\n                return sortedProducts.sort((a, b) => (b.rating * b.reviewCount) - (a.rating * a.reviewCount))\n            case 'newness':\n                return sortedProducts.sort((a, b) => b.id - a.id)\n            case 'price-low':\n                return sortedProducts.sort((a, b) => a.price - b.price)\n            case 'price-high':\n                return sortedProducts.sort((a, b) => b.price - a.price)\n            case 'name-asc':\n                return sortedProducts.sort((a, b) => a.title.localeCompare(b.title))\n            case 'name-desc':\n                return sortedProducts.sort((a, b) => b.title.localeCompare(a.title))\n            default:\n                return sortedProducts\n        }\n    }\n\n    // Filtreleme fonksiyonu\n    const filterProducts = (products, filterType) => {\n        switch (filterType) {\n            case 'most-popular':\n                return sortProducts(products, 'popularity')\n            case 'best-seller':\n                return sortProducts(products, 'popularity')\n            case 'trending':\n                return sortProducts(products, 'newness')\n            case 'featured':\n                return sortProducts(products, 'rating')\n            default:\n                return products\n        }\n    }\n\n    // Sıralama değiştiğinde\n    const handleSortChange = (sortType) => {\n        setSortBy(sortType)\n        const sorted = sortProducts(products, sortType)\n        setFilteredProducts(sorted)\n        setCurrentPage(1)\n        setDisplayedProducts(sorted.slice(0, itemsPerPage))\n    }\n\n    // Filtre değiştiğinde\n    const handleFilterChange = (filterType) => {\n        setFilterBy(filterType)\n        const filtered = filterProducts(products, filterType)\n        setFilteredProducts(filtered)\n        setCurrentPage(1)\n        setDisplayedProducts(filtered.slice(0, itemsPerPage))\n    }\n    \n    // Infinite scroll için daha fazla ürün yükle\n    const loadMoreProducts = useCallback(() => {\n        if (loadingMore || displayedProducts.length >= filteredProducts.length) {\n            return\n        }\n        \n        setLoadingMore(true)\n        setTimeout(() => {\n            setCurrentPage(prevPage => {\n                const nextPage = prevPage + 1\n                const startIndex = prevPage * itemsPerPage\n                const endIndex = startIndex + itemsPerPage\n                const newProducts = filteredProducts.slice(startIndex, endIndex)\n                \n                setDisplayedProducts(prev => [...prev, ...newProducts])\n                setLoadingMore(false)\n                return nextPage\n            })\n        }, 300)\n    }, [loadingMore, displayedProducts.length, filteredProducts, itemsPerPage])\n    \n    // Scroll event listener\n    useEffect(() => {\n        const handleScroll = () => {\n            if (loadingMore || displayedProducts.length >= filteredProducts.length) {\n                return\n            }\n            \n            const scrollTop = window.pageYOffset || document.documentElement.scrollTop\n            const windowHeight = window.innerHeight\n            const documentHeight = document.documentElement.scrollHeight\n            \n            // Sayfa sonuna 200px kala yükle\n            if (scrollTop + windowHeight >= documentHeight - 200) {\n                loadMoreProducts()\n            }\n        }\n        \n        window.addEventListener('scroll', handleScroll)\n        return () => window.removeEventListener('scroll', handleScroll)\n    }, [displayedProducts.length, filteredProducts.length, loadingMore, loadMoreProducts])\n\n    useEffect(() => {\n        const fetchProducts = async () => {\n            setLoading(true)\n            try {\n                const urlParams = new URLSearchParams(location.search)\n                const subcategoryParam = urlParams.get('subcategory')\n                \n                let categoryProducts\n                let foundSubcategories = []\n                \n                if (categorySlug === 'tum-urunler' || categorySlug === 'all') {\n                    // Tüm ürünleri getir\n                    categoryProducts = getProductsData()\n                    setCategoryName('Tüm Ürünler')\n                } else {\n                    // Belirli kategori ürünlerini getir\n                    categoryProducts = getProductsByCategory(categorySlug)\n                    setCategoryName(getCategoryName(categorySlug))\n                    \n                    // Kategori ağacından alt kategorileri bul\n                    const categoryTree = getCategoryTree()\n                    for (const [mainCat, data] of Object.entries(categoryTree)) {\n                        if (data.slug === categorySlug) {\n                            foundSubcategories = Object.keys(data.subcategories).map(subCat => ({\n                                name: subCat,\n                                slug: data.subcategories[subCat].slug,\n                                fullPaths: data.subcategories[subCat].full_paths\n                            }))\n                            break\n                        }\n                    }\n                    \n                    // Alt kategori seçilmişse filtrele\n                    if (subcategoryParam && foundSubcategories.length > 0) {\n                        const subcat = foundSubcategories.find(s => s.slug === subcategoryParam)\n                        if (subcat) {\n                            setSelectedSubcategory(subcat)\n                            const filtered = categoryProducts.filter(product => {\n                                const productCategory = product.category || ''\n                                return subcat.fullPaths.includes(productCategory)\n                            })\n                            setFilteredProducts(filtered)\n                            setDisplayedProducts(filtered.slice(0, itemsPerPage))\n                        } else {\n                            setFilteredProducts(categoryProducts)\n                            setDisplayedProducts(categoryProducts.slice(0, itemsPerPage))\n                        }\n                    } else {\n                        setFilteredProducts(categoryProducts)\n                        setDisplayedProducts(categoryProducts.slice(0, itemsPerPage))\n                    }\n                }\n                \n                setProducts(categoryProducts)\n                setSubcategories(foundSubcategories)\n                setCurrentPage(1)\n            } catch (error) {\n                console.error('Ürünler yüklenirken hata:', error)\n                setProducts([])\n                setFilteredProducts([])\n            }\n            setLoading(false)\n        }\n\n        fetchProducts()\n    }, [categorySlug, location.search])\n    \n    const handleSubcategoryClick = (subcategory) => {\n        setSelectedSubcategory(subcategory)\n        const filtered = products.filter(product => {\n            const productCategory = product.category || ''\n            return subcategory.fullPaths.includes(productCategory)\n        })\n        setFilteredProducts(filtered)\n        setCurrentPage(1)\n        setDisplayedProducts(filtered.slice(0, itemsPerPage))\n        // URL'i güncelle\n        const newUrl = `${location.pathname}?subcategory=${subcategory.slug}`\n        window.history.pushState({}, '', newUrl)\n    }\n\n    if (loading) {\n        return (\n            <>\n                <Header />\n                <section className=\"ptb-100\">\n                    <div className=\"container\">\n                        <div className=\"text-center py-5\">\n                            <div className=\"spinner-border text-primary\" role=\"status\">\n                                <span className=\"sr-only\">Yükleniyor...</span>\n                            </div>\n                            <p className=\"mt-3\">Ürünler yükleniyor...</p>\n                        </div>\n                    </div>\n                </section>\n                <Footer />\n            </>\n        )\n    }\n\n    return (\n        <>\n            <Header />\n            <section className=\"ptb-100\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-lg-12\">\n                            <div className=\"section-title text-center mb-5\">\n                                <h2>{categoryName} Kategorisi</h2>\n                                <p>{filteredProducts.length} ürün bulundu</p>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Alt Kategori Filtreleri */}\n                    {subcategories.length > 0 && (\n                        <div className=\"subcategory-filters mb-4\">\n                            <div className=\"row\">\n                                <div className=\"col-12\">\n                                    <h4 className=\"mb-3\">Alt Kategoriler:</h4>\n                                    <div className=\"subcategory-buttons\">\n                                        <button\n                                            className={`btn ${selectedSubcategory === null ? 'btn-primary' : 'btn-outline-primary'} me-2 mb-2`}\n                                            onClick={() => {\n                                                setSelectedSubcategory(null)\n                                                setFilteredProducts(products)\n                                                const newUrl = location.pathname\n                                                window.history.pushState({}, '', newUrl)\n                                            }}\n                                        >\n                                            Tümü ({products.length})\n                                        </button>\n                                        {subcategories.map((subcat, index) => (\n                                            <button\n                                                key={index}\n                                                className={`btn ${selectedSubcategory?.slug === subcat.slug ? 'btn-primary' : 'btn-outline-primary'} me-2 mb-2`}\n                                                onClick={() => handleSubcategoryClick(subcat)}\n                                            >\n                                                {subcat.name}\n                                            </button>\n                                        ))}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n\n                    {/* Filter Bileşeni */}\n                    <div className=\"row mb-4\">\n                        <div className=\"col-lg-6 col-md-12\">\n                            <div className=\"product_filter\">\n                                <div className=\"customs_selects\">\n                                    <select \n                                        name=\"filter\" \n                                        className=\"customs_sel_box\" \n                                        value={filterBy}\n                                        onChange={(e) => handleFilterChange(e.target.value)}\n                                    >\n                                        <option value=\"most-popular\">Most Popular</option>\n                                        <option value=\"best-seller\">Best Seller</option>\n                                        <option value=\"trending\">Trending</option>\n                                        <option value=\"featured\">Featured</option>\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"col-lg-6 col-md-12\">\n                            <div className=\"product_shot\">\n                                <div className=\"product_shot_title\">\n                                    <p>Sort By:</p>\n                                </div>\n                                <div className=\"customs_selects\">\n                                    <select \n                                        name=\"sort\" \n                                        className=\"customs_sel_box\" \n                                        value={sortBy}\n                                        onChange={(e) => handleSortChange(e.target.value)}\n                                    >\n                                        <option value=\"popularity\">Sort By Popularity</option>\n                                        <option value=\"newness\">Sort By Newness</option>\n                                        <option value=\"price-low\">Price: Low to High</option>\n                                        <option value=\"price-high\">Price: High to Low</option>\n                                        <option value=\"name-asc\">Name: A to Z</option>\n                                        <option value=\"name-desc\">Name: Z to A</option>\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    \n                    {filteredProducts.length > 0 ? (\n                        <>\n                            <div className=\"row\">\n                                {displayedProducts.map((product) => (\n                                    <div key={product.id} className=\"col-lg-3 col-md-4 col-sm-6 col-12 mb-4\">\n                                        <ProductCard data={product} />\n                                    </div>\n                                ))}\n                            </div>\n                            \n                            {/* Loading More Indicator */}\n                            {loadingMore && (\n                                <div className=\"row mt-4\">\n                                    <div className=\"col-12 text-center\">\n                                        <div className=\"spinner-border text-primary\" role=\"status\">\n                                            <span className=\"sr-only\">Yükleniyor...</span>\n                                        </div>\n                                        <p className=\"mt-2\">Daha fazla ürün yükleniyor...</p>\n                                    </div>\n                                </div>\n                            )}\n                            \n                            {/* Load More Button (alternatif) */}\n                            {!loadingMore && displayedProducts.length < filteredProducts.length && (\n                                <div className=\"row mt-4\">\n                                    <div className=\"col-12 text-center\">\n                                        <button\n                                            className=\"btn btn-primary\"\n                                            onClick={loadMoreProducts}\n                                        >\n                                            Daha Fazla Yükle ({displayedProducts.length} / {filteredProducts.length})\n                                        </button>\n                                    </div>\n                                </div>\n                            )}\n                            \n                            {/* Tüm ürünler yüklendi mesajı */}\n                            {displayedProducts.length >= filteredProducts.length && displayedProducts.length > itemsPerPage && (\n                                <div className=\"row mt-4\">\n                                    <div className=\"col-12 text-center\">\n                                        <p className=\"text-muted\">Tüm ürünler gösterildi ({filteredProducts.length} ürün)</p>\n                                    </div>\n                                </div>\n                            )}\n                        </>\n                    ) : (\n                        <div className=\"row\">\n                            <div className=\"col-lg-12\">\n                                <div className=\"text-center py-5\">\n                                    <h3>Bu kategoride ürün bulunamadı</h3>\n                                    <p>Bu kategoride henüz ürün bulunmuyor.</p>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                </div>\n            </section>\n            <Footer />\n        </>\n    )\n}\n\nexport default CategoryPage\n","import React from 'react'\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from \"react-redux\";\nimport { incrementWhatsAppClick } from '../../../utils/whatsappTracker';\n\nconst ProductCard = (props) => {\n    let dispatch = useDispatch();\n    // Add to cart\n    const addToCart = async (id) => {\n        dispatch({ type: \"products/addToCart\", payload: { id } })\n    }\n\n    // WhatsApp tıklama sayısını artır\n    const handleWhatsAppClick = (productId) => {\n        incrementWhatsAppClick(productId);\n    }\n    return (\n        <>\n            <div className=\"product_wrappers_one\">\n                <div className=\"thumb\">\n                    <Link to={`/product-details-one/${props.data.id}`} className=\"image\">\n                        <img src={props.data.image || props.data.img || props.data.mainImage || (props.data.images && props.data.images[0])} alt={props.data.title} />\n                        <img className=\"hover-image\" src={(props.data.images && props.data.images[1]) || props.data.image || props.data.img || props.data.mainImage || (props.data.images && props.data.images[0])}\n                            alt={props.data.title} />\n                    </Link>\n                    <span className=\"badges\">\n                        <span className=\"new\">Yeni</span>\n                        {props.data.inStock ? <span className=\"sale\">Stokta</span> : <span className=\"hot\">Tükendi</span>}\n                    </span>\n                    <div className=\"product-actions\">\n                        <a \n                            href={`https://wa.me/905393973949?text=Merhaba, ${props.data.title} ürünü hakkında bilgi almak istiyorum. Ürün Kodu: ${props.data.productCode} - Fiyat: ₺${props.data.price.toLocaleString()}`} \n                            target=\"_blank\" \n                            rel=\"noopener noreferrer\"\n                            className=\"whatsapp-btn-small\"\n                            title=\"WhatsApp ile İletişim\"\n                            onClick={() => handleWhatsAppClick(props.data.id)}\n                        >\n                            <i className=\"fab fa-whatsapp\" style={{fontSize: '16px'}}></i>\n                        </a>\n                            <a \n                                href=\"tel:+905393973949\" \n                                className=\"phone-btn-small\"\n                                title=\"Telefon Et\"\n                            >\n                                <i className=\"fa fa-phone\"></i>\n                            </a>\n                    </div>\n                </div>\n                <div className=\"content\">\n                    <h5 className=\"title\">\n                        <Link to={`/product-details-one/${props.data.id}`}>{props.data.title}</Link>\n                    </h5>\n                                    <div className=\"brand-info\">\n                                        <small className=\"text-muted\">{props.data.brand}</small>\n                                    </div>\n                                    <div className=\"product-code-info\">\n                                        <small className=\"text-muted\">Kod: <strong>{props.data.productCode}</strong></small>\n                                    </div>\n                    <div className=\"rating\">\n                        <div className=\"stars\">\n                            {[...Array(5)].map((_, i) => (\n                                <i key={i} className={`fa fa-star ${i < Math.floor(props.data.rating) ? 'text-warning' : 'text-muted'}`}></i>\n                            ))}\n                        </div>\n                        <small className=\"text-muted\">({props.data.reviewCount})</small>\n                    </div>\n                    <span className=\"price\">\n                        <span className=\"new\">₺{props.data.price.toLocaleString()}</span>\n                        {props.data.originalPrice && props.data.originalPrice !== props.data.price && (\n                            <span className=\"old\">₺{props.data.originalPrice.toLocaleString()}</span>\n                        )}\n                    </span>\n                </div>\n            </div>\n\n        </>\n    )\n}\n\nexport default ProductCard","// WhatsApp tıklama sayısını takip etmek için utility fonksiyonları\n\nconst WHATSAPP_CLICKS_KEY = 'whatsapp_clicks';\n\n// Local storage'dan tıklama sayılarını al\nexport const getWhatsAppClicks = () => {\n    try {\n        const clicks = localStorage.getItem(WHATSAPP_CLICKS_KEY);\n        return clicks ? JSON.parse(clicks) : {};\n    } catch (error) {\n        console.error('WhatsApp tıklama sayıları alınırken hata:', error);\n        return {};\n    }\n};\n\n// Local storage'a tıklama sayılarını kaydet\nexport const saveWhatsAppClicks = (clicks) => {\n    try {\n        localStorage.setItem(WHATSAPP_CLICKS_KEY, JSON.stringify(clicks));\n    } catch (error) {\n        console.error('WhatsApp tıklama sayıları kaydedilirken hata:', error);\n    }\n};\n\n// Belirli bir ürün için tıklama sayısını artır\nexport const incrementWhatsAppClick = (productId) => {\n    const clicks = getWhatsAppClicks();\n    clicks[productId] = (clicks[productId] || 0) + 1;\n    saveWhatsAppClicks(clicks);\n    return clicks[productId];\n};\n\n// Belirli bir ürün için tıklama sayısını al\nexport const getProductWhatsAppClicks = (productId) => {\n    const clicks = getWhatsAppClicks();\n    return clicks[productId] || 0;\n};\n\n// Tüm ürünler için tıklama sayılarını güncelle\nexport const updateProductsWithWhatsAppClicks = (products) => {\n    const clicks = getWhatsAppClicks();\n    return products.map(product => ({\n        ...product,\n        whatsappClicks: clicks[product.id] || 0\n    }));\n};\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nconst Filter = (props) => {\n    return (\n        <>\n            <div className=\"row\">\n                <div className=\"col-lg-6 col-md-12\">\n                    <div className=\"product_filter\">\n                        <div className=\"customs_selects\">\n                            <select name=\"product\" className=\"customs_sel_box\" onChange={() => { props.filterEvent(1) }}>\n                                <option value=\"volvo\">Most Popular</option>\n                                <option value=\"saab\">Best Seller</option>\n                                <option value=\"mercedes\">Trending</option>\n                                <option value=\"audi\">Featured</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-lg-6 col-md-12\">\n                    <div className=\"product_shot\">\n                        <div className=\"product_shot_title\">\n                            <p>Sort By:</p>\n                        </div>\n                        <div className=\"customs_selects\">\n                            <select name=\"product\" className=\"customs_sel_box\" onChange={() => { props.filterEvent(1) }}>\n                                <option value=\"Popularity\">Sort By Popularity</option>\n                                <option value=\"newness\">Sort By Newness</option>\n                                <option value=\"low\">Price: Low to High</option>\n                                <option value=\"high\">Price: High to Low</option>\n                            </select>\n                        </div>\n                        <div className=\"product_shot_view\">\n                            <ul>\n                                <li><Link to=\"/shopList\"><i className=\"fa fa-list\"></i></Link></li>\n                                <li><Link to=\"/shopTwo\"><i className=\"fa fa-th-large\"></i></Link></li>\n                                <li><Link to=\"/shop\"><i className=\"fa fa-th\"></i></Link></li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default Filter\n"],"sourceRoot":""}